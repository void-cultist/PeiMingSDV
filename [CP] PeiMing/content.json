{
    "Format": "2.9.0",
	
	"DynamicTokens": [
		{
			"Name": "IsOddYear",
			"Value": "{{Query: {{Year}} % 2 = 1}}"
		},
//name replacer tokens
		{
			"Name": "PeiMing",
			"Value": "{{ModID}}_Peiming"
		},
		{
			"Name": "PeiXiu",
			"Value": "{{ModID}}_PeiXiu"
		},

//Pei Xiu name before and after certain events
		{
			"Name": "PXDisplayName",
			"Value": "???"
		},
		{
			"Name": "PXDisplayName",
			"Value": "Pei Xiu",
			"When": {
				"HasSeenEvent: |contains={{ModID}}_PeiXiuEncounter": true
			}
		},


//Tokens for map patching & map strings
		{
            "Name": "HouseLocationToken",
            "Value": "PeiMingExterior"
        },
        {
            "Name": "HouseLocationToken",
            "Value": "PeiMingExteriorSVE",
            "When": {
                "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
                "House Location": "SVE"
            }
        },
//warp tokens for alternative map patches
       {
            "Name": "HouseLocationToken",
            "Value": "PeiMingWarp",
            "When": {
                "House Location": "Alternate",
				"HasMod: |contains=Rafseazz.LunnaCP": false
            }
        },
		{
            "Name": "HouseLocationToken",
            "Value": "PeiMingWarpLunnaVanilla",
            "When": {
                "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
				"HasMod: |contains=Rafseazz.LunnaCP": true
				
            }
        },
		{
            "Name": "HouseLocationToken",
            "Value": "PeiMingWarpLunnaSVE",
            "When": {
                "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
				"HasMod: |contains=Rafseazz.LunnaCP": true
				
            }
        },

//outdoor strings
		{
			"Name": "OutdoorStrings",
			"Value": "PeiMingExterior",
		},
		{
			"Name": "OutdoorStrings",
			"Value": "PeiMingExteriorSVE",
			"When": {
                "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
                "House Location": "SVE"
            }
		},
		{
			"Name": "OutdoorStrings",
			"Value": "PeiMingNewOutdoors",
			"When": {
                "House Location": "Alternate"
            }
		},
		/* {
			"Name": "LockedHouseLocationToken",
			"Value": "PeiMingExteriorLocked",
		},
		{
			"Name": "LockedHouseLocationToken",
			"Value": "PeiMingExteriorSVELocked",
			"When": {
                "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
                "House Location": "SVE"
            }
		},
		{
			"Name": "LockedHouseLocationToken",
			"Value": "PeiMingNewOutdoorsLocked",
			"When": {
                "House Location": "Alternate"
            }
		}, */
		
		//setpieces

		{
			"Name": "SetpiecesMap",
			"When": { "House Location": "Alternate"},
			"Value": "PeiMingNewOutdoors_Setpieces.tmx"
		},

		{
			"Name": "SetpiecesMap",
			"When": { "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true, "House Location": "SVE"},
			"Value": "PeiMingExteriorSVE_Setpieces.tmx"
		},

		{
			"Name": "SetpiecesMap",
			"Value": "PeiMingExterior_Setpieces.tmx"
		},

		//spawn coordinates. i figured out i could handle it like that AFTER i did separate patches for all other spawns. RIP
		{
			"Name": "SpawnableCoordinates",
			"Value": "Forest 42,73,4,3 55,73,3,7"
		},

		{
			"Name": "SpawnableCoordinates",
			"When": { "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true, "House Location": "SVE"} ,
			"Value": "Forest 18,69,2,2 17,79,3,2 22,79,2,2"
		},
		{
			"Name": "SpawnableCoordinates", 
			"When": { "House Location": "Alternate" },
			"Value": "{{ModID}}_PeiMingNewOutdoors 3,3,2,9 9,15,3,2"
		},



		//vanilla patch, fallback
		{ "Name": "HousePatchXCoord",
		"Value": 40
		
		},
		{ "Name": "HousePatchYCoord",
		"Value": 65

		},
		{ "Name": "HousePatchWidth",
		"Value": 21

		},
		{ "Name": "HousePatchHeight",
		"Value": 16

		},

		//sve patch
		{ "Name": "HousePatchXCoord",
		"Value": 6,
		"When":
			{
                "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
                "House Location": "SVE"
            }
		
		},

		{ "Name": "HousePatchYCoord",
		"Value": 56,
		"When": 
			{
                "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
                "House Location": "SVE"
            }
		},

		{ "Name": "HousePatchWidth",
		"Value": 30,
		"When": 
			{
                "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
                "House Location": "SVE"
            }
		},

		{ "Name": "HousePatchHeight",
		"Value": 31,
		"When": 
			{
                "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
                "House Location": "SVE"
            }
		},

//alternate warp patch no lunna, no sve

	{ "Name": "HousePatchXCoord",
		"Value": 0,
		"When": 
			{
                "House Location": "Alternate",
				"HasMod: |contains=Rafseazz.LunnaCP": false,
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
            }
		
		},

		{ "Name": "HousePatchYCoord",
		"Value": 30,
		"When":
			 {
                "House Location": "Alternate",
				"HasMod: |contains=Rafseazz.LunnaCP": false,
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
            }
		},

		{ "Name": "HousePatchWidth",
		"Value": 5,
		"When": 
			{
                "House Location": "Alternate",
				"HasMod: |contains=Rafseazz.LunnaCP": false,
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
            }
		},
		
		{ "Name": "HousePatchHeight",
		"Value": 10,
		"When": 
			{
                "House Location": "Alternate",
				"HasMod: |contains=Rafseazz.LunnaCP": false,
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
            }
		},


//alternate warp patch with lunna, no sve

	{ "Name": "HousePatchXCoord",
		"Value": 0,
		"When": 
			{
                "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
				"HasMod: |contains=Rafseazz.LunnaCP": true
            }
		
		},

		{ "Name": "HousePatchYCoord",
		"Value": 21,
		"When":
			 {
              "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
				"HasMod: |contains=Rafseazz.LunnaCP": true
            }
		},

		{ "Name": "HousePatchWidth",
		"Value": 6,
		"When": 
			{
               "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
				"HasMod: |contains=Rafseazz.LunnaCP": true
            }
		},
		
		{ "Name": "HousePatchHeight",
		"Value": 8,
		"When": 
			{
              "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
				"HasMod: |contains=Rafseazz.LunnaCP": true
            }
		},

//alternate warp patch with lunna + sve

{ "Name": "HousePatchXCoord",
		"Value": 0,
		"When": 
			{
                "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
				"HasMod: |contains=Rafseazz.LunnaCP": true
            }
		
		},

		{ "Name": "HousePatchYCoord",
		"Value": 26,
		"When":
			 {
              "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
				"HasMod: |contains=Rafseazz.LunnaCP": true
            }
		},

		{ "Name": "HousePatchWidth",
		"Value": 5,
		"When": 
			{
               "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
				"HasMod: |contains=Rafseazz.LunnaCP": true
            }
		},
		
		{ "Name": "HousePatchHeight",
		"Value": 4,
		"When": 
			{
              "House Location": "Alternate",
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
				"HasMod: |contains=Rafseazz.LunnaCP": true
            }
		},

//alternate warp no lunna, with SVE

		{ "Name": "HousePatchXCoord",
		"Value": 0,
		"When": 
			{
                "House Location": "Alternate",
				"HasMod: |contains=Rafseazz.LunnaCP": false,
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
            }
		
		},

		{ "Name": "HousePatchYCoord",
		"Value": 30,
		"When":
			 {
                "House Location": "Alternate",
				"HasMod: |contains=Rafseazz.LunnaCP": false,
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
            }
		},

		{ "Name": "HousePatchWidth",
		"Value": 5,
		"When": 
			{
                "House Location": "Alternate",
				"HasMod: |contains=Rafseazz.LunnaCP": false,
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
            }
		},
		
		{ "Name": "HousePatchHeight",
		"Value": 10,
		"When": 
			{
                "House Location": "Alternate",
				"HasMod: |contains=Rafseazz.LunnaCP": false,
				"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
            }
		},


//////change alternate house location warps when lunna is or isnt installed, with or without SVE
//vanilla, no lunna
{
	"Name": "AlternateToForestWarp",
	"Value": "21 14 Forest 0 37"
},

{
	"Name": "ForestToAlternateWarp",
	"Value": "-1 37 {{ModID}}_PeiMingNewOutdoors 20 14"
},

//SVE, no lunna
{
	"Name": "AlternateToForestWarp",
	"When": { 
		"House Location": "Alternate",
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
		"HasMod: |contains=Rafseazz.LunnaCP": false 
},
	"Value": "21 14 Forest 0 37"
},

{
	"Name": "ForestToAlternateWarp",
	"When": { 
		"House Location": "Alternate",
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
		"HasMod: |contains=Rafseazz.LunnaCP": false 
},
	"Value": "-1 37 {{ModID}}_PeiMingNewOutdoors 20 14"
},

//vanilla with lunna
{
	"Name": "AlternateToForestWarp",
	"When": { 
		"House Location": "Alternate",
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
		"HasMod: |contains=Rafseazz.LunnaCP": true 
},
	"Value": "21 14 Forest 0 27"
},

{
	"Name": "ForestToAlternateWarp",
	"When": { 
		"House Location": "Alternate",
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
		"HasMod: |contains=Rafseazz.LunnaCP": true 
},
	"Value": "-1 27 {{ModID}}_PeiMingNewOutdoors 20 14"
},

//SVE with lunna
{
	"Name": "AlternateToForestWarp",
	"When": { 
		"House Location": "Alternate",
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
		"HasMod: |contains=Rafseazz.LunnaCP": true 
},
	"Value": "21 14 Forest 0 28"
},
{
	"Name": "ForestToAlternateWarp",
	"When": { 
		"House Location": "Alternate",
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
		"HasMod: |contains=Rafseazz.LunnaCP": true 
},
	"Value": "-1 28 {{ModID}}_PeiMingNewOutdoors 20 14"
},



//woods or beach visit during birthday
		{ "Name": "WoodsOrBeach",
		   "Value": "Beach",
		   "When": { "IsOddYear": true 
				
			},
		},
		{ "Name": "WoodsOrBeach",
			"Value": "Woods",
			"When": {
				"IsOddYear": false
				
			},
		},
	

	//event stuff, don't ask. don't. please.
	{
		"Name": "ReadingAnimation",
		"Value": "animate {{PeiMing}} false false 600 32 33 33 33 33 34 34 34 34 32 32 33 33 34 34 32"
	},
	{
		"Name": "DrinkingAnimation",
		"Value": "animate {{PeiMing}} false false 600 16 16 16 16 16 16 16 17 17 18 18 19 19 19 19 19 18 18 17 17 16 16 16 16 16 16"
	},
	{
		"Name": "BeerAnimation",
		"Value": "animate {{PeiMing}} false true 600 16 16 16 16 16 16 16 17 17 18 18 19 19 19 19 19 18 18 17 17 16 16 16 20 20 21 21 22 22 20 22 20 22 20 22 16"
	},
//Saloon or Mountains?

	{	
	"Name": "PM4HLocation",
	"Value": "Mountain",
	"When": { "HasSeenEvent: |contains={{ModID}}_PM3HMountains": true }
	},
	{
	"Name": "PM4HLocation",
	"Value": "Saloon",
	},
	{
		"Name": "5HTriggerCondition",
		"Value": "PM4HSaloon",
		"When": {
			"HasSeenEvent: |contains={{ModID}}_PM4HSaloon": true
		}
	},
	{
		"Name": "5HTriggerCondition",
		"Value": "PM4HMountain",
		"When": {
			"HasSeenEvent: |contains={{ModID}}_PM4HMountain": true
		}	
	},

	//vanilla music or custom?
	{
		"Name": "PMHouseBGM",
		"Value": "shimmeringbastion"
	},
	{
		"Name": "PMHouseBGM",
		"When": { "Custom Music": "on" },
		"Value": "{{ModId}}_PMHouseMusic"
	},
	{
		"Name": "EventBGM",
		"Value": "Icicles"
	},
	{
		"Name": "EventBGM",
		"When": { "Custom Music": "on" },
		"Value": "{{ModId}}_Music"
	},
	{
		"Name": "EventBGM2",
		"Value": "AbigailFlute"
	},
	{
		"Name": "EventBGM2", 
		"When": { "Custom Music": "on" },
		"Value": "{{ModId}}_ArukasBloom"
	},
	{
		"Name": "HappyBGM",
		"Value": "poppy"
	},
	{
		"Name": "HappyBGM",
		"When": { "Custom Music": "on" },
		"Value": "{{ModId}}_HappyBGM"
	},
	{
		"Name": "MelancholyBGM",
		"Value": "desolate"
	},
	{
		"Name": "MelancholyBGM",
		"When": { "Custom Music": "on" },
		"Value": "{{ModId}}_MelancholyBGM"
	},
		{
		"Name": "SinisterBGM",
		"Value": "junimoKart_ghostMusic"
	},
	{
		"Name": "SinisterBGM",
		"When": { "Custom Music": "on" },
		"Value": "{{ModId}}_darkly"
	},
	
		
	],
	
   "ConfigSchema": 
   {
	   "House Location": 
		{	"AllowValues": "Vanilla, SVE, Alternate",
			"Default": "Vanilla",
			"AllowBlank": false,
			"Description": "Changes the location of Pei Ming's house when using SVE, will otherwise cause clipping issues with Andy's farm. 'Alternate' adds a warp point next to the Wizard Tower and should be selected in case there's conflicts with other mods."
		},
			
		"Portrait Style": 
		{	"AllowValues": "Default, Alternative",
			"Default": "Default",
			"AllowBlank": true,
			"Description": "Default = by Pastelshrooms whose sprites inspired this mod; Alternative = by voidcultist, inspired by Nyapu"
		},

		"Festival Participation":
		{ 	"AllowValues": "true, false",
			"Default": "true",
			"AllowBlank": false,
			"Description": "Let Pei Ming attend festivals. Disable if there is conflict with other mods. Default true."
		},

		"Partnership":
		{	"AllowValues": "Platonic Partnership, Roommates",
			"Default": "Roommates",
			"AllowBlank": false,
			"Description": "Whether Pei Ming behaves like a vanilla roommate or a platonic partner after moving in. Suggestion: use Platonic Partnership with the Mod 'Hugs and Kisses' with 'RoommateKisses' enabled!",
			"Section": "Relationship"
		},
	/* 	"Ceremony":
		{	"AllowValues": "true, false",
			"Default": false,
			"AllowBlank": false,
			"Description": "Whether or not you want to celebrate your companionship with a platonic ceremony (like a Wedding event).",
			"Section": "Platonic Partnership exclusive",

		}, */
		/* "Farm Upgrades":
		{
			"AllowValues": "Farmhouse Renovation, Farm Building",
			"Default": "Farmhouse Renovation",
			"AllowBlank": true,
			"Description": "Farmhouse Renovation: Pei Ming gets his own little room in your farmhouse (this is NOT the vanilla spouse room); Farm Building: Pei Ming gets his own little cabin you can place on your farm",
			"Section": "Platonic Partnership exclusive",
		} */
		 "Custom Music":
		 {
			"AllowValues": "on, off",
			"Default": "on",
			"AllowBlank": false,
			"Description": "This mod adds custom music tracks to certain events and locations involving Pei Ming. If you do not want this, turn this setting off. Custom music might also slow down your game in some instances, so if you are experiencing lag, disable this config as well."
		 }
	
			
	}, 
    "Changes":
	  [{
   		 "LogName": "Blank JSON load for Pei Ming", //The logline is not required, but it's useful down the road for labeling your patches so you can tell your problem is, say "NPC Dialogue Patch" and not "NPC Patch #14"
        	"Action": "Load",
        	"Target": "Characters/Dialogue/{{PeiMing}}, Characters/schedules/{{PeiMing}}, Strings/schedules/{{PeiMing}}, Strings/StringsFromMaps/{{ModID}}_PeiMingHouse, Strings/StringsFromMaps/{{ModID}}_PeiMingExterior, Strings/StringsFromCSFiles/{{PeiMing}}_EngagedRoommate, Strings/1_6_Strings/{{ModID}}_Renovation_AddCustomRoom, Data/EngagementDialogue/{{PeiMing}}, Characters/Dialogue/MarriageDialogue{{PeiMing}}Roommate, Characters/schedules/{{PeiMing}}Roommate, Data/Events/{{ModID}}_PeiMingHouse, Data/Locations/{{ModID}}_PeiMingNewOutdoors", 
        	"FromFile": "data/blank.json" //this should be wherever you put it in your assets folder - put it in a subfolder if you want
   	 },
	 {
		"LogName": "Blank JSON load for Pei Xiu",
		"Action": "Load",
		"Target": "Characters/Dialogue/{{PeiXiu}}, Characters/schedules/{{PeiXiu}}",
		"FromFile": "data/blank.json"
	 },

//includes
{
    "LogName": "Include Pei Ming dispos",
   	"Action": "Include",
   	"FromFile": "data/dispos.json"
},
{
	"LogName": "Include Pei Xiu dispos",
	"Action": "Include",
	"FromFile": "data/PeiXiu/dispos.json"
},
{ 
	"LogName": "Gift Tastes Include",
   	"Action": "Include",
   	"FromFile": "data/gifttastes.json"
},
{
	"LogName": "Include Custom Schedule keys",
	"Action": "Include",
	"When": { "Partnership": "Platonic Partnership"},
	"FromFile": "data/PlatonicPartnership/CustomScheduleKeys.json"
},
{
    "LogName": "Include Pei Ming Dialogue",
   	"Action": "Include",
	"FromFile": "data/dialogue.json"
},
{
    "LogName": "Include Pei Xiu Dialogue",
   	"Action": "Include",
	"FromFile": "data/PeiXiu/dialogue.json"
},
{
	"LogName": "Include map data",
	"Action": "Include",
	"FromFile": "data/mapdata.json"
},
{
	"LogName": "Include CT",
	"Action": "Include",
	"FromFile": "data/ConversationTopics.json",
},

{
	"LogName": "1.6.Strings include",
	"Action": "Include",
	"FromFile": "data/Strings/1_6_Strings.json",
},

{
    "LogName": "Include PeiMing Schedule Strings",
   	"Action": "Include",
   	"FromFile": "data/Strings/schedules.json"
},

{
	"LogName": "add map messages to Pei Ming's house and patio",
	"Action": "Include",
	"FromFile":  "data/Strings/StringsFromMaps.json" 
},
{
	"LogName": "Include updated schedule when Pei Ming is roommate with config Platonic Partnership - Vanilla",
	"Action": "Include",
	"When": { 
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
		"House Location": "Vanilla, Alternate",
		"Partnership": "Platonic Partnership",
		"HasSeenEvent: |contains={{ModID}}_BecomeRoommates": true },
	"FromFile": "data/PlatonicPartnership/IgnoreMarriageScheduleVanilla.json"
},
{
	"LogName": "Include updated schedule when Pei Ming is roommate with config Platonic Partnership - SVE",
	"Action": "Include",
	"When": { 
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
		"House Location": "SVE, Alternate",
		"Partnership": "Platonic Partnership",
		"HasSeenEvent: |contains={{ModID}}_BecomeRoommates": true },
	"FromFile": "data/PlatonicPartnership/IgnoreMarriageScheduleSVE.json"
},
{
    "LogName": "PeiMing Vanilla Schedule include",
   	"Action": "Include",
	"When": { 
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
		"House Location": "Vanilla, Alternate" },
   	"FromFile": "data/schedule.json"
},
		
{
    "LogName": "PeiMing SVE Schedule include",
   	"Action": "Include",
	"When": { 
		"HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
		"House Location": "SVE, Alternate" },
   	"FromFile": "data/SVE/schedule.json"
},
{
    "LogName": "Pei Xiu  Schedule include",
   	"Action": "Include",
   	"FromFile": "data/PeiXiu/schedule.json"
},
{
	"LogName": "Include Special Orders",
	"Action": "Include",
	"FromFile": "data/specialorders.json"
},


{ 	"LogName": "custom item include",
	"Action": "Include",
	"FromFile": "assets/items/items.json" 
}, 

{ 
	"LogName": "Include Pei Ming's events",
	"Action": "Include",
	"FromFile": "data/Events.json" 
}, 

{
	"LogName": "Include Trigger Actions for PM",
	"Action": "Include",
	"FromFile": "data/triggeractions.json",
},
{
	"LogName": "Include space core spawnables",
	"Action": "Include",
	"FromFile": "data/spawnables/spawnables.json"
},
{
	"LogName": "Include space core spawnables trigger actions",
	"Action": "Include",
	"FromFile": "data/spawnables/spawnables_triggeractions.json"
},

/* { 
	"LogName": "Include Companionship ceremony (Event)",
	"Action": "Include",
	"When":  {
	"Partnership":"Platonic Partnership"
			},
	"FromFile": "data/PlatonicPartnership/ceremony.json"
}, */
{
   	"LogName": "Festival Include SVE",
   	"Action": "Include",
	"When": {  "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": true,
					"Festival Participation": true,
				 },
   	"FromFile": "data/SVE/Festivals.json"
},
{
   	"LogName": "Festival Include Vanilla",
   	"Action": "Include",
	"When": {  "HasMod: |contains=FlashShifter.StardewValleyExpandedCP": false,
					"Festival Participation": true,
				 },
   	"FromFile": "data/Festivals.json"
},
{
	"LogName": "Include Movie data",
	"Action": "Include",
	"FromFile": "data/movies.json"
},

	
	 
/////schedule

//ignore marriage schedule, requires space core and targets the asset provided by it directly with an edit data patch!

{ "LogName": "Space Core: Ignore marriage schedule when Partnership is Platonic Partnership",
  "Action": "EditData",
  "Target": "spacechase0.SpaceCore/NpcExtensionData",
  "When": { "Partnership": "Platonic Partnership"},
  "Entries": {
    "{{PeiMing}}": {
      "IgnoreMarriageSchedule": true,
    }
  }
},
{ "LogName": "Space Core: Separate Datability",
  "Action": "EditData",
  "Target": "spacechase0.SpaceCore/NpcExtensionData",
  "Entries": {
  "{{PeiMing}}": { "SeparateDatability": true,
  }
},
},

{ "LogName": "Space Core: Gift Event Trigger - Roommate Proposal",
  "Action": "EditData",
  "Target": "spacechase0.SpaceCore/NpcExtensionData",
  "When": { "LocationName": "{{ModID}}_PeiMingHouse",
			"HasSeenEvent: |contains={{ModID}}_BecomeRoommates": false }, 
  "Update": "OnLocationChange",
  "Entries": {
	"{{PeiMing}}": { 
	"GiftEventTriggers": {
		"(O)void.NorthernHeartMelon_GiftableTassel": "{{ModID}}_RoommateProposal"
	}
}

  }
},


//animations
{
            "LogName": "PeiMing Animations",
            "Action": "EditData",
            "Target": "Data/animationdescriptions",
            "Entries":
            {
                "{{PeiMing}}_drinkTea": "16/16 16 16 16 16 16 17 17 18 18 19 19 19 19 19 18 18 17 17 16 16 16 16 16/16",
				"{{PeiMing}}_drinkBooze": "16/16 16 16 16 16 16 17 17 18 18 19 19 19 19 19 18 18 17 17 16 16 16 20 20 21 21 22 22 20 22 20 22 20 22/16",
				"{{PeiMing}}_readBook": "32/33 33 33 33 34 34 34 34 32 32 33 33 34 34/32",
				"{{PeiMing}}_readPaper": "38/38 38 38 38 38 39 39 39 39/39",
			}
		},
	

//quests
//quest format: <"quest type/quest title/quest description in quest log/opt: additional quest instructions/opt: completion requirements/next quests for quest chain, add 0 for none/reward money in numbers/-1/can be cancelled (default false)/opt. Reaction dialogue for item delivery quests">
{
	"LogName": "Edit Quests for PM",
	"Action": "EditData",
	"Target": "Data/Quests",
	"Entries": 
		{
			"{{ModID}}_TalkWizard": "Location/{{i18n:TalkWizard.title}}/{{i18n:TalkWizard.text}}/{{i18n:TalkWizard.objective}}/WizardHouse/0/100/-1/false",
			"{{ModID}}_PMSaloon": "Location/{{i18n:PMSaloon.title}}/{{i18n:PMSaloon.text}}/{{i18n:PMSaloon.objective}}/Saloon/0/0/-1/false",
			"{{ModID}}_PMMountains": "Location/{{i18n:PMMountains.title}}/{{i18n:PMMountains.text}}/{{i18n:PMMountains.objective}}/Mountain/0/0/-1/false",
			"{{ModID}}_NHMForPM": "ItemDelivery/{{i18n:NHMForPM.title}}/{{i18n:NHMForPM.text}}/{{i18n:NHMForPM.objective}}/{{PeiMing}} void.NorthernHeartMelon_NHMelon 1/0/10000/-1/false/{{i18n:NHMForPM.reaction}}",
			//"{{ModID}}_MysteriousNoteQuest": "",
		}
},
//mail
//mail syntax: <"text"><"commands"><%item quest [quest ID] true%% for quests in letter>[#]<letter title>
{"LogName": "edit mail related to Pei Ming",
"Action": "EditData",
"Target": "data/mail",
"Entries": {
	"{{ModID}}_WizardLetter": "{{i18n:WizardLetter.text}}%item quest {{ModID}}_TalkWizard true%%[2][#]{{i18n:WizardLetter.title}}",
	"{{ModID}}_PMLibraryThanks": "{{i18n:PMLibraryThanks.text}}%item id (O)524 1%%[#]{{i18n:PMLibraryThanks.title}}",
	"{{ModID}}_PM4HSaloonLetter": "{{i18n:PM4HSaloonLetter.text}}%item quest {{ModID}}_PMSaloon true%%[#]{{i18n:PM4HSaloonLetter.title}}",
	"{{ModID}}_PM4HMountainsLetter": "{{i18n:PM4HMountainsLetter.text}}%item quest {{ModID}}_PMMountains true%%[#]{{i18n:PM4HMountainsLetter.title}}",
	"{{ModID}}_PMTanghuluLetter": "{{i18n:PMTanghuluLetter.text}}%item cookingRecipe {{ModID}}_Tanghulu%%[#]{{i18n:PMTanghuluLetter.title}}",
	"{{ModID}}_PMApologyLetter": "{{i18n:PMApologyLetter.text}}[#]{{i18n:PMApologyLetter.title}}",
	"{{ModID}}_SleepoverLetter": "{{i18n:SleepoverLetter.text}}[#]{{i18n:SleepoverLetter.title}}",
	"{{ModID}}_NHMSeedsLetter": "{{i18n:NHMSeedsLetter.text}}%item id (O)void.NorthernHeartMelon_NHMSeeds 1%%%item quest {{ModID}}_NHMForPM true%%[#]{{i18n:NHMSeedsLetter.title}}",
	"{{ModID}}_GlazedHeartMelonLetter": "{{i18n:GlazedHeartMelonLetter.text}}%item cookingRecipe void.NorthernHeartMelon_GlazedHeartMelon%%[#]{{i18n:GlazedHeartMelonLetter.title}}",
	"{{ModID}}_MovingInLetter": "{{i18n:MovingInLetter.text}} [#]{{i18n:MovingInLetter.title}}",
	"{{ModID}}_HuangjiuLetter": "{{i18n:HuangjiuLetter.text}}[#]{{i18n:HuangjiuLetter.title}}",
	"{{ModID}}_PM7HSaloonLetter": "{{i18n:PM7HSaloonLetter.text}}%item quest {{ModID}}_PM7HQuest true%%[#]{{i18n:PM7HSaloonLetter.title}}",
	"{{ModID}}_TanghuluInvite": "{{i18n:TanghuluInvite.text}}[#]{{i18n:TanghuluInvite.title}}",
	"{{ModID}}_LoveTeaLetter": "{{i18n:LoveTeaLetter.text}}%item cookingRecipe void.NorthernHeartMelon_LoveTea%%[#]{{i18n:LoveTeaLetter.title}}"


}},


//music edits and add-ins

  {			
	"LogName": "Add custom tracks",
    "Action": "EditData",
	"When": { "Custom Music": "on" },
    "Target": "Data/AudioChanges",
    "Entries": {
                "{{ModId}}_Music": 
				{
                    "ID": "{{ModId}}_Music",
                    "Category": "Music",
                    "FilePaths": [ "{{AbsoluteFilePath: assets/music/asian_duet.ogg}}" ],
                    "StreamedVorbis": true,
                    "Looped": true
                },
				"{{ModID}}_PMHouseMusic":
				{   "ID": "{{ModId}}_PMHouseMusic",
                    "Category": "Music",
                    "FilePaths": [ "{{AbsoluteFilePath: assets/music/Sunrise_in_the_Dynasty.ogg}}" ],
                    "StreamedVorbis": true,
                    "Looped": true

				},
				"{{ModID}}_PMOutdoorMusic":
				{   "ID": "{{ModId}}_PMOutdoorMusic",
                    "Category": "Music",
                    "FilePaths": [ "{{AbsoluteFilePath: assets/music/asian_strings.ogg}}" ],
                    "StreamedVorbis": true,
                    "Looped": true

				},
				"{{ModID}}_HappyBGM":
				{   "ID": "{{ModId}}_HappyBGM",
                    "Category": "Music",
                    "FilePaths": [ "{{AbsoluteFilePath: assets/music/100116happybgm.ogg}}" ],
                    "StreamedVorbis": true,
                    "Looped": true

				},
				"{{ModID}}_MelancholyBGM":
				{   "ID": "{{ModId}}_MelancholyBGM",
                    "Category": "Music",
                    "FilePaths": [ "{{AbsoluteFilePath: assets/music/112416melancholypianobgm.ogg}}" ],
                    "StreamedVorbis": true,
                    "Looped": true

				},
				"{{ModID}}_ArukasBloom":
				{   "ID": "{{ModId}}_ArukasBloom",
                    "Category": "Music",
                    "FilePaths": [ "{{AbsoluteFilePath: assets/music/arukas_bloom.ogg}}" ],
                    "StreamedVorbis": true,
                    "Looped": true

				},
				"{{ModID}}_darkly":
				{   "ID": "{{ModId}}_darkly",
                    "Category": "Music",
                    "FilePaths": [ "{{AbsoluteFilePath: assets/music/darkly.ogg}}" ],
                    "StreamedVorbis": true,
                    "Looped": true

				},
           	 }
},
],


}
	

